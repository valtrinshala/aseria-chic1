var c=function(){var a,i,u=function(){a=FormValidation.formValidation(i,{fields:{name:{validators:{notEmpty:{message:window.keys.queueName}}},queue_id:{validators:{notEmpty:{message:window.keys.queueIdRequired}}},url:{validators:{notEmpty:{message:window.keys.urlRequired}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),$("#name").on("input",function(){var r=$(this).val(),e=r.replace(/\W+/g,"_").toLowerCase();$("#key").val(e),$("#hidden_key").val(e);var t=$(".create-url").data("url-static"),o=$("#url").data("url");l(t,e,o)});function l(r,e,t){var o=r+e;let n=t+e;$(".create-url").text(o),$("#url").val(n)}$("#submitButton").on("click",function(){$("#kt_ecommerce_add_queueManagement_form").submit()}),$("#kt_ecommerce_add_queueManagement_form").submit(function(r){var e=new FormData($("#kt_ecommerce_add_queueManagement_form")[0]);if($("#method").val()==="create")var t="/admin/queueManagement";else if($("#method").val()==="update")t="/admin/queueManagement/"+$("#page-id").val(),e.append("_method","PUT");else return;r.preventDefault(),a&&a.validate().then(function(o){o=="Valid"?$.ajax({url:t,type:"POST",data:e,contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(n){Swal.fire({text:window.keys.queueManagementSuccessfully,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}}).then(function(){$("#method").val()==="create"?$("#kt_ecommerce_add_queueManagement_form")[0].reset():location.href="/admin/queueManagement"})},statusCode:{422:function(n){let s=window.keys.ekioskErrorMessage+` 

`;for(let m in n.responseJSON.errors)s+=`${n.responseJSON.errors[m].join(", ")}
`;Swal.fire({text:s,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}},error:function(n){Swal.fire({text:window.keys.ekioskServerErrors,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}}):Swal.fire({text:window.keys.ekioskErrorsDetected,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})})})};return{init:function(){i=document.querySelector("#kt_ecommerce_add_queueManagement_form"),u()}}}();KTUtil.onDOMContentLoaded(function(){c.init()});
