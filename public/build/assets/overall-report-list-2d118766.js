var d=function(){var r,o;window.queryFilters={};var a=function(){r=$(o).DataTable({order:[],processing:!0,serverSide:!0,ajax:{url:"/admin/filters",type:"GET",data:function(e){e.filters=JSON.stringify(window.queryFilters)}},drawCallback:function(e){let t=e.json.totals;for(let n in t)n in t&&$("#"+n).text(t[n])},columns:[{data:"order_receipt",render:function(e,t){return`
                            <a class="text-gray-800 fs-10.5 flex-column justify-content-center my-0 text-hover-primary"
                                href="${t.order_url}">${e}</a>
                        `}},{data:"order_number",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"order_type",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"pos_or_kiosk",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"payment_method_type",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"cart_total_cost",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"discount_amount",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"profit_after_all",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"tax_amount",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"payable_after_all",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"created_at",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}},{data:"updated_at",render:function(e){return`
                            <div class="text-gray-800 fs-10.5 flex-column justify-content-center my-0">${e}</div>
                        `}}]}),r.on("draw",function(){KTMenu.init()})};document.querySelector("#kt_ecommerce_sales_flatpickr_clear").addEventListener("click",e=>{i.clear(),delete window.queryFilters.date,r.ajax.reload()});const c=document.querySelector("#kt_ecommerce_sales_flatpickr");let i;return i=$(c).flatpickr({altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",mode:"range",onChange:function(e,t,n){e.length===2&&(window.queryFilters.date=t,r.ajax.reload())}}),$(document).ready(function(){$("#printTable").click(function(){$("#kt_ecommerce_sales_flatpickr").val();var e=window.open("/admin/printOverall?date="+JSON.stringify(window.queryFilters),"_blank");e.onload=function(){e.print(),setTimeout(function(){e.close()},1e3)}})}),$("#pdfTable").click(function(){window.open("/admin/pdfOverall?date="+JSON.stringify(window.queryFilters),"_blank")}),$("#excelTable").click(function(){window.open("/admin/report/excel?date="+JSON.stringify(window.queryFilters),"_blank")}),$(document).ready(function(){window.queryFilters=window.queryFilters||{};function e(){$(".order-option").closest("div.p-2").css("background-color",""),$(".order-option").each(function(){$(this).data("value")===window.queryFilters.order&&$(this).closest("div.p-2").css("background-color","#F1F1F4")})}$(".order-option").click(function(){var t=$(this).data("value");window.queryFilters.order=t,e(),r.ajax.reload()})}),$(document).ready(function(){window.queryFilters=window.queryFilters||{};function e(){var t=window.queryFilters.orderType||"all";$(".filter-option").each(function(){$(this).closest("div.p-2").css("background-color",""),$(this).data("order-type")===t&&$(this).closest("div.p-2").css("background-color","#F1F1F4")})}$(".filter-option").click(function(){var t=$(this).data("order-type");window.queryFilters.orderType=t,e(),r.ajax.reload()})}),$(document).ready(function(){window.queryFilters=window.queryFilters||{};function e(){$(".order-taker-option").closest("div.p-2").css("background-color",""),$(".order-taker-option").each(function(){$(this).data("order-taker-id")===window.queryFilters.orderTaker&&$(this).closest("div.p-2").css("background-color","#F1F1F4")})}$(".order-taker-option").click(function(){var t=$(this).data("order-taker-id");window.queryFilters.orderTaker=t,e(),r.ajax.reload()})}),$(document).ready(function(){window.queryFilters=window.queryFilters||{};function e(){$(".chef-option").closest("div.p-2").css("background-color",""),$(".chef-option").each(function(){$(this).data("chef-id")===window.queryFilters.chef&&$(this).closest("div.p-2").css("background-color","#F1F1F4")})}$(".chef-option").click(function(){var t=$(this).data("chef-id");window.queryFilters.chef=t,e(),r.ajax.reload()})}),$(document).ready(function(){window.queryFilters=window.queryFilters||{};function e(){var t=window.queryFilters.paymentMethod||"all";$(".payment-method-option").each(function(){$(this).data("payment-method")===t?$(this).closest("div.p-2").css("background-color","#F1F1F4"):$(this).closest("div.p-2").css("background-color","")})}$(".payment-method-option").click(function(){var t=$(this).data("payment-method");window.queryFilters.paymentMethod=t,e(),r.ajax.reload()})}),{init:function(){o=document.querySelector("#kt_customers_table"),o&&a()}}}();KTUtil.onDOMContentLoaded(function(){d.init()});
