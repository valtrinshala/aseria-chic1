var m=function(){var r,a,c=function(){r=FormValidation.formValidation(a,{fields:{device_name:{validators:{notEmpty:{message:window.keys.printerSettingsDeviceNameRequired}}},device_ip:{validators:{notEmpty:{message:window.keys.printerSettingsDeviceIpRequired}}},device_port:{validators:{notEmpty:{message:window.keys.printerSettingsDevicePortRequired}}},device_type:{validators:{notEmpty:{message:window.keys.printerSettingsDeviceTypeRequired}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),$("#clear-device-status").on("click",function(){const s=$(this).data("id"),o=$(this).data("name");Swal.fire({text:window.keys.askReleaseDevice,icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:window.keys.yesClear,cancelButtonText:window.keys.cancelButtonText,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then(function(e){e.value?$.ajax({url:"/admin/setting/clearDeviceFromCashRegisterOrEKiosk/"+s,method:"POST",contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){if(t.status==1){Swal.fire({text:t.message,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}});return}if(t.status==0){Swal.fire({text:t.message,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}});return}},error:function(t,n,i){Swal.fire({text:i,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}})}}):e.dismiss==="cancel"&&Swal.fire({text:o+" "+window.keys.notCleaned,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}})})}),$("#submitButton").on("click",function(){$("#kt_ecommerce_add_printer_settings_form").submit()}),$("#kt_ecommerce_add_printer_settings_form").submit(function(s){var o=new FormData($("#kt_ecommerce_add_printer_settings_form")[0]);if($("#method").val()==="create")var e="/admin/setting/printerSettings";else if($("#method").val()==="update")e="/admin/setting/printerSettings/"+$("#page-id").val(),o.append("_method","PUT");else return;s.preventDefault(),r&&r.validate().then(function(t){t=="Valid"?$.ajax({url:e,type:"POST",data:o,contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(n){Swal.fire({text:window.keys.printerSettingsSuccessfullyAdded,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}}).then(function(){$("#method").val()==="create"?($("#kt_ecommerce_add_printer_settings_form")[0].reset(),location.reload()):location.href="/admin/setting/printerSettings"})},statusCode:{422:function(n){let i=window.keys.ekioskErrorMessage+`

`;for(let l in n.responseJSON.errors)i+=`${n.responseJSON.errors[l].join(", ")}
`;Swal.fire({text:i,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}},error:function(n){Swal.fire({text:window.keys.ekioskServerErrors,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}}):Swal.fire({text:window.keys.ekioskErrorsDetected,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})})})};return{init:function(){a=document.querySelector("#kt_ecommerce_add_printer_settings_form"),c()}}}();KTUtil.onDOMContentLoaded(function(){m.init()});
