document.addEventListener("DOMContentLoaded",function(){const a=document.querySelectorAll(".delete-backup-form"),c=document.querySelectorAll(".restore-backup-form");a.forEach(o=>{o.addEventListener("submit",function(r){r.preventDefault();var s=new FormData(this);let t=s.get("name");Swal.fire({text:window.keys.deleteText+" '"+t+"' ?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonText,cancelButtonText:window.keys.cancelButtonText,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then(function(e){e.value?$.ajax({url:"/admin/deleteBackup/"+t,type:"POST",contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(n){$("."+t.replace(/\.zip$/,"")).remove()},error:function(n,i,l){console.error(n.responseText)}}):e.dismiss==="cancel"&&Swal.fire({text:t+" "+window.keys.notDeleted,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}})})})}),c.forEach(o=>{o.addEventListener("submit",function(r){r.preventDefault();var s=new FormData(this);let t=s.get("name");Swal.fire({text:window.keys.restoreText+" '"+t+"' ?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:window.keys.confirmRestoreButtonText,cancelButtonText:window.keys.cancelButtonText,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then(function(e){e.value?$.ajax({url:"/admin/restoreBackup/"+t,type:"POST",contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(n){Swal.fire({text:t+" "+window.keys.backupHasBeenRestored,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}})},error:function(n,i,l){console.error(n.responseText)}}):e.dismiss==="cancel"&&Swal.fire({text:t+" "+window.keys.notRestored,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn fw-bold btn-primary"}})})})})});
