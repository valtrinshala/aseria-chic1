var y=function(){var r,i,f=function(){r=FormValidation.formValidation(i,{fields:{name:{validators:{notEmpty:{message:window.keys.categoryNameRequired}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}});let o=$("#colorDiv"),n=$("#infoSpanColor"),t=$("#iconDiv"),a=$("#infoSpanDiv");o.show(),t.hide(),$('#kt_security_summary_tabs a[data-bs-toggle="tab"]').click(function(){switch($(this).attr("href")){case"#kt_security_summary_tab_pane_hours":o.show(),n.show(),t.hide(),a.hide();break;case"#kt_security_summary_tab_pane_day":o.hide(),n.hide(),t.show(),a.show();break;default:o.show(),n.show(),t.hide(),a.hide()}}),$(".colorCategories").children().click(function(){$(".input-color").val($(this).data("color")),$(".category-color").css("background-color",$(this).data("color"))}),$("#submitButton").on("click",function(){$("#kt_ecommerce_add_category_form").submit()}),$("#kt_ecommerce_add_category_form").submit(function(s){var c=new FormData($("#kt_ecommerce_add_category_form")[0]);if($("#method").val()==="create")var l="/admin/foodCategory";else if($("#method").val()==="update")l="/admin/foodCategory/"+$("#page-id").val(),c.append("_method","PUT");else return;s.preventDefault(),r&&r.validate().then(function(m){m=="Valid"?$.ajax({url:l,type:"POST",data:c,contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){Swal.fire({text:window.keys.categorySuccessfullyAdded,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}}).then(function(){$("#method").val()==="create"?location.reload():location.href="/admin/foodCategory"})},statusCode:{422:function(e){let d=window.keys.ekioskErrorMessage+`

`;for(let u in e.responseJSON.errors)d+=`${e.responseJSON.errors[u].join(", ")}
`;Swal.fire({text:d,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}},error:function(e){Swal.fire({text:window.keys.ekioskServerErrors,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})}}):Swal.fire({text:window.keys.ekioskErrorsDetected,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})})})};return{init:function(){i=document.querySelector("#kt_ecommerce_add_category_form"),f()}}}();KTUtil.onDOMContentLoaded(function(){y.init()});
