var m=function(){var t,n,a=function(){t=FormValidation.formValidation(n,{fields:{name:{validators:{notEmpty:{message:window.keys.kitchenValidationName}}},kitchen_id:{validators:{notEmpty:{message:window.keys.kitchenValidationId}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),$("#submitButton").on("click",function(){$("#kt_ecommerce_add_kitchen_form").submit()}),$("#kt_ecommerce_add_kitchen_form").submit(function(s){var o=new FormData($("#kt_ecommerce_add_kitchen_form")[0]);if($("#method").val()==="create")var r="/admin/kitchen-android/devices";else if($("#method").val()==="update")r="/admin/kitchen-android/devices/"+$("#page-id").val(),o.append("_method","PUT");else return;s.preventDefault(),t&&t.validate().then(function(c){c=="Valid"?$.ajax({url:r,type:"POST",data:o,contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){Swal.fire({text:window.keys.kitchen,icon:"success",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}}).then(function(){$("#method").val()==="create"?$("#kt_ecommerce_add_kitchen_form")[0].reset():location.href="/admin/kitchen-android/devices"})},statusCode:{422:function(e){let i=window.keys.ekioskErrorMessage+". ";for(let d in e.responseJSON.errors)i+=`${e.responseJSON.errors[d].join(", ")}`;Swal.fire({text:i,icon:"error",buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary"}})}},error:function(e){Swal.fire({text:window.keys.ekioskServerErrors,icon:"error",buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary"}})}}):Swal.fire({text:window.keys.ekioskErrorsDetected,icon:"error",buttonsStyling:!1,confirmButtonText:window.keys.confirmButtonOk,customClass:{confirmButton:"btn btn-primary"}})})})};return{init:function(){n=document.querySelector("#kt_ecommerce_add_kitchen_form"),a()}}}();KTUtil.onDOMContentLoaded(function(){m.init()});
